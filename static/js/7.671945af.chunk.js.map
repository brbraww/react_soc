{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/Login/Login.js"],"names":["module","exports","FormControl","input","meta","touched","error","children","hasError","className","classes","formControl","mainArea","Textarea","props","restProps","child","Input","createField","component","name","placeholder","type","validate","text","requiredField","value","maxLenghtCreator","maxLenght","length","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","formSummaryError","connect","state","isAuth","auth","login","to","formData","email","password","rememberMe"],"mappings":"yFACAA,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB,0C,+LCGrHC,EAAc,SAAC,GAA6C,EAA5CC,MAA6C,IAAD,IAArCC,KAAMC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAQC,EAAc,EAAdA,SAC1CC,EAAWH,GAAWC,EAC5B,OACI,yBAAKG,UAAWC,IAAQC,aAEpB,yBAAKF,UAAWC,IAAQE,SAAW,KAAMJ,EAAWE,IAAQJ,MAAQ,KAC/DC,GAEL,yBAAKE,UAAWC,IAAQJ,OAClBE,GAAY,8BAAOF,MAMxBO,EAAW,SAACC,GAAW,IACzBX,EAAoCW,EAApCX,MAAuBY,GAAaD,EAA7BV,KAA6BU,EAAvBE,MADW,YACYF,EADZ,2BAE/B,OAAO,kBAACZ,EAAgBY,EACpB,8CAAcX,EAAWY,MAGpBE,EAAQ,SAACH,GAAW,IACtBX,EAAoCW,EAApCX,MAAuBY,GAAaD,EAA7BV,KAA6BU,EAAvBE,MADQ,YACeF,EADf,2BAE5B,OAAO,kBAACZ,EAAgBY,EACpB,2CAAWX,EAAWY,MAIjBG,EAAc,SAACC,EAAUC,EAAMC,EAAaC,EAAMC,GAAmC,IAAzBT,EAAwB,uDAAhB,GAAIU,EAAY,uDAAP,GACtF,OAAO,6BACH,kBAAC,IAAD,eAAOL,UAAWA,EACXC,KAAMA,EACNC,YAAaA,EACbC,KAAMA,EACNC,SAAUA,GACNT,IANR,IAOCU,K,iCCxCZ,oEAAO,IAAMC,EAAgB,SAAAC,GACzB,IAAIA,EACJ,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,iCCNlC,gGAyDME,EAAiBC,YAAU,CAE7BC,KAAM,SAFaD,EAnCL,SAACjB,GACf,OAAO,0BAAMmB,SAAUnB,EAAMoB,cACxBhB,YACGD,IACA,QACA,QACA,OACA,CAACQ,MAEJP,YACGD,IACA,WACA,WACA,WACA,CAACQ,MAEJP,YACGD,IACA,aACA,KACA,WACA,GACA,GACA,gBAEHH,EAAMR,OACP,yBAAKG,UAAWC,IAAQyB,kBACnBrB,EAAMR,OAGX,6BACI,8CAaG8B,uBAJS,SAACC,GAAD,MAAY,CAChCC,OAAQD,EAAME,KAAKD,UAGgB,CAACE,WAAzBJ,EAzDD,SAACtB,GAIX,OAAIA,EAAMwB,OACC,kBAAC,IAAD,CAAUG,GAAI,aAGlB,6BACH,qCACA,kBAACX,EAAD,CAAgBG,SATH,SAACS,GACd5B,EAAM0B,MAAME,EAASC,MAAMD,EAASE,SAAUF,EAASG","file":"static/js/7.671945af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__F7-nC\",\"error\":\"FormsControls_error__37hEA\",\"formSummaryError\":\"FormsControls_formSummaryError__13P5v\"};","import React from \"react\";\r\nimport classes from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta:{touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return(\r\n        <div className={classes.formControl}>\r\n\r\n            <div className={classes.mainArea + ' '+ (hasError ? classes.error : '')}>\r\n                {children}\r\n            </div>\r\n            <div className={classes.error}>\r\n                { hasError && <span>{error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <textarea {...input} {...restProps}/>\r\n    </FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n    </FormControl>\r\n}\r\n\r\nexport const createField = (component,name, placeholder, type, validate, props = {}, text='') => {\r\n    return <div>\r\n        <Field component={component}\r\n               name={name}\r\n               placeholder={placeholder}\r\n               type={type}\r\n               validate={validate}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n}","export const requiredField = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLenghtCreator = (maxLenght) => (value) => {\r\n    if (value.length > maxLenght) return `Max lenght is ${maxLenght} symbols`;\r\n    return undefined;\r\n}\r\n","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from './../common/FormsControls/FormsControls.module.css'\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email,formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return <div>\r\n        <h1>LOGIN</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n}\r\nconst LoginForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        {createField(\r\n            Input,\r\n            'email',\r\n            'email',\r\n            'text',\r\n            [requiredField])\r\n        }\r\n        {createField(\r\n            Input,\r\n            'password',\r\n            'password',\r\n            'password',\r\n            [requiredField])\r\n        }\r\n        {createField(\r\n            Input,\r\n            'rememberMe',\r\n            null,\r\n            'checkbox',\r\n            [],\r\n            {},\r\n            'remember me.')\r\n        }\r\n        {props.error &&\r\n        <div className={classes.formSummaryError}>\r\n            {props.error}\r\n        </div>\r\n        }\r\n        <div>\r\n            <button>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\nconst LoginReduxForm = reduxForm({\r\n    // a unique name for the form\r\n    form: 'login',\r\n})(LoginForm)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport default connect(mapStateToProps,{login})(Login);"],"sourceRoot":""}